---
title: "Wild-Data"
format: html
execute:
  warning: false
---
## Wild Data- Set-up
Visit the EDI site to learn about Mack Creek salamander & cutthroat trout data you’ll be using here: data package

Download the first CSV listed (AS00601.csv), and take a look at it (outside of R is fine as a first step, e.g. you can open the CSV in Excel)

Explore the metadata (see View Full Metadata in the Resources section of the data website)

What does each column contain? What are the units of each? What is the study overall about?

Create a new Quarto Document and save it in your docs folder. Attach the tidyverse, here and janitor packages in the setup chunk (you choose the file name)
```{r}
library(tidyverse)
library(janitor)
```


## Set global options in the YAML so that messages and warnings do NOT show up in the rendered document

- Save the AS00601.csv in your data folder of your project
- Read in the data using read_csv() with here(), store as mack_verts
- Update the variable names in mack_verts to lower snake case

Look at what you’ve read in (e.g. with view())
```{r}
mack_verts <- read_csv(here::here("data", "AS00601.csv")) %>%
  clean_names()
view(mack_verts)
```

## Another Way for variable names in mack_verts to Lower snake cake. Instead of piping
```{r}
mack_verts <- clean_names(mack_verts) # Updates to lower snake case
```

## A bit of wrangling & exploring
In a new code chunk, practice accessing individual pieces of the data frame (there is no real functionality to this right now, but just to reinforce stuff we learned in our interactive session):

Store the 5th value in column “WEIGHT” as mc_wt_5. Check by looking at your data frame to confirm.
Store the 8th - 20th value in the “LENGTH1” column as mc_length_8_20. Check by looking at your data frame to confirm.
Store everything in column SAMPLEDATE as a vector called mc_dates
```{r}
mc_wt_5 <- mack_verts$weight[5]
mc_wt_5
# Or 
#mc_wt_5 <- mack_verts[5, 'weight'] # This extracts 5th value in column 'weight'
mc_length_8_20 <- mack_verts$length1[8:20]
mc_length_8_20
# Or
#mc_length_8_20 <- mack_verts[8:20, 'length1'] # Extract 8-20 values in column
mc_dates <- mack_verts$sampledate # Extract column 'sampledate'
# Or 
#mc_dates <- mack_verts[,'sampledate']
view(mc_dates)
```

## Make a salamander subset
Create a subset that only contains observations for Pacific Giant Salamanders (species Dicamptodon tenebrosus, stored in species as DITE). Store the subset as mc_salamanders. Hint: see dplyr::filter()!
```{r}
mc_salamander <- mack_verts %>% 
  filter(species == "DITE")
#mc_salamander <- filter(mack_verts, species == "DITE")
```

## Make a scatterplot of salamander length x weight
Create a scatterplot of length1 (snout-vent length in millimeters) versus weight (grams) for all salamanders in the subset you created above, mc_salamanders. Update axis labels, title, subtitle, and add a caption with the data source. Customize point color and size, possibly opacity, and theme.

Export your scatterplot as salamander_size.png to your figs folder.
```{r}
salamander_size<- ggplot(data = mc_salamander, 
                         aes(x= length1, y= weight))+
  geom_point(color="lightblue", alpha= 0.5, size = 2)+
  theme_gray()+
  labs(x= "Weight (g)",
       y= "Legnth (mm)",
       title = "Pacific Giant Salamanders Length and Weight",
       subtitle = "Looking at snout vent length in mm and weight in grams for all salamanders") 
salamander_size

# same scatterplot to 'figs' folder
ggsave(here::here("figs","salamander_size.png"), plot = salamander_size, width = 6, height = 5, units= c("in"))
```

## Make a cutthroat plot
Similar to above, make a subset called mc_trout that only contains observations for cutthroat trout (species “ONCL”)
```{r}
mc_trout <- mack_verts %>% 
  filter(species == "ONCL")
#mc_trout <- mack_verts[mack_verts$species == "ONCL", ]
```
## Create a scatterplot of length1 by weight for all trout in the dataset
Customize so that the point color depends on reach
Customize your color scheme (e.g. scale_color_manual())
Facet your plot by creek reach (hint: facet_wrap(~...))
Update graph axis labels and title
Export your graph as cutthroat_size.png to the figs folder
```{r}
# Check unique values in column
unique(mc_trout$reach)
```

```{r}
#Creating named vectors of custom colors
custom_colors <- c("L" = "red", "M" = "purple", "U" = "pink")
cutthroat_size <- ggplot(data = mc_trout,aes(x= length1, y=weight))+
  geom_point(aes(color=reach))+
  scale_color_manual(values= custom_colors)+ #assigning custom colors made
  labs(x= "Length",
       y= "Weight",
       title = "Length by weight for Cutthroat trout",
       subtitle= " looking at the reach by facet wrap",
       caption = "https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-and.4027.14")+
  facet_wrap(~reach)+ #facet by variable of 'reach'
  theme_light()+
  theme(plot.caption = element_text(hjust = 0))
cutthroat_size

#saving plot to folder figs
ggsave(here::here("figs","cutthroat_size.png"), plot = salamander_size, width = 6, height = 5, units= c("in"))
```


